{% extends "base.html" %}

{% block title %}Search Results - Library Search{% endblock %}

{% block content %}
<div>
    <a href="{% url 'library:home' %}" style="text-decoration: none;">‚Üê Back to Search</a>
</div>

<h2>Search Results</h2>
<p>Searching for: <strong>{{ query }}</strong> ({{ search_type }})</p>

{% if results %}
    <p>Found {{ results|length }} book(s):</p>

    {% if search_type == 'genre' %}
       {% for genre in results %}
           <h3>{{ genre.name }}</h3>
          {% for book in genre.books %}
                <div class="result-item">
                    <h4>{{ book.name }}</h4>
                    <p><strong>Author:</strong> {{ book.author }}</p>
                </div>
          {% endfor %}
       {% endfor %}
    {% else %}
       {% for book in results %}
          <div class="result-item">
             <h3>{{ book.name }}</h3>
             <p><strong>Author:</strong> {{ book.author }}</p>
             <p><strong>Genre(s):</strong> {{ book.genre }}</p>
           </div>
       {% endfor %}
    {% endif %}

{% else %}
    <p style="color: #666; font-style: italic;">
        No books found. Try a different search term!
    </p>
{% endif %}
{% endblock %}
