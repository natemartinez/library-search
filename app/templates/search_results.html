{% extends "base.html" %}

{% block title %}Search Results - Library Search{% endblock %}

{% block content %}
<div>
    <a href="{% url 'library:home' %}" style="text-decoration: none;">‚Üê Back to Search</a>
</div>

<h2>Search Results</h2>
<p>Searching for: <strong>{{ query }}</strong> ({{ search_type }})</p>

{% if results %}
    <p>Found {{ results|length }} book(s):</p>

    {% for genre in results %}
          <div class="result-genre">
            <h2>{{ genre.genre_name }}</h2>
          </div>
          {% for book in genre.books %}
           <div class="result-item">
             <h3>{{ book.name }}</h3>
             <p><strong>Author:</strong> {{ book.author }}</p>
             <p><strong>Genre(s):</strong> {{ book.genre }}</p>
           </div>
          {% endfor %}
    {% endfor %}


{% else %}
    <p style="color: #666; font-style: italic;">
        No books found. Try a different search term!
    </p>
{% endif %}
{% endblock %}
